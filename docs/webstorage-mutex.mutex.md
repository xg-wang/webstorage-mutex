<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [webstorage-mutex](./webstorage-mutex.md) &gt; [mutex](./webstorage-mutex.mutex.md)

## mutex() function

Execute callback that accesses Web Storage across tabs.

<b>Signature:</b>

```typescript
export declare function mutex<R>(callback: () => R, options?: MutexOptions): Promise<R>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  callback | () =&gt; R |  |
|  options | [MutexOptions](./webstorage-mutex.mutexoptions.md) |  |

<b>Returns:</b>

Promise&lt;R&gt;

## Remarks

Alur and Taubenfeld's lock https://www.cs.rochester.edu/research/synchronization/pseudocode/fastlock.html

Code to be executed by process i. Variables Y and Z are initialized to free and 0, respectively. The delay at line 6 is assumed to be long enough for any process that has already read Y = free in line 3 to complete line 4, and any process that has already set Y in line 4 to complete line 5 and (if not delayed) line 11 (that is the time required to service 2 memory references by all other processors in the system).

```
  1:     start:
  2:        X := i
  3:        repeat until Y = free
  4:        Y := i
  5:        if X <> i
  6:           { delay }
  7:           if Y <> i
  8:              goto start
  9:           repeat until Z = 0
  10:       else
  11:          Z := 1
  12:    { critical section }
  13:       Z := 0
  14:       if Y = i
  15:          Y := free
  16:    { non-critical section }
  17:       goto start
```

